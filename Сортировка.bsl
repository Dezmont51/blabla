ЧтениеХМЛ = Новый ЧтениеXML();
ЧтениеХМЛ.ОткрытьФайл("C:\Users\Dezmont\Desktop\test1c\src\config\Configuration.xml");
ТЗ = Новый ТаблицаЗначений();
ТЗ.Колонки.Добавить("Строка");
ТЗ.Колонки.Добавить("Тег");
Пока ЧтениеХМЛ.Прочитать() Цикл
	Если ЧтениеХМЛ.ТипУзла = ТипУзлаXML.НачалоЭлемента И ЧтениеХМЛ.Имя = "ChildObjects" Тогда
		//Сообщить("Нашел");
		Пока ЧтениеХМЛ.Прочитать() Цикл
			Если ЧтениеХМЛ.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
				Начало = ЧтениеХМЛ.Имя;
			ИначеЕсли ЧтениеХМЛ.ТипУзла = ТипУзлаXML.Текст Тогда 
				Тег = СтрШаблон("<%1>%2</%3>",Начало, ЧтениеХМЛ.Значение, Начало);
				НоваяСтрока = ТЗ.Добавить();
				НоваяСтрока.Строка = ЧтениеХМЛ.Значение;
				НоваяСтрока.Тег = Тег;
			КонецЕсли;
			Если ЧтениеХМЛ.ТипУзла = ТипУзлаXML.КонецЭлемента И ЧтениеХМЛ.Имя = "ChildObjects" Тогда
				Прервать;
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецЦикла;
ТЗ.Сортировать("Строка");
Для каждого Переменная Из ТЗ Цикл
//	Сообщить(Переменная.Тег);
КонецЦикла;
ЧтениеХМЛ.Закрыть();

Чтение = Новый ЧтениеТекста();
ЗаписьФайл = НОвый ЗаписьТекста("C:\Users\Dezmont\Desktop\test1c\src\config\Configuration2.xml");

Чтение.Открыть("C:\Users\Dezmont\Desktop\test1c\src\config\Configuration.xml");
СтрокаТекста = Чтение.ПрочитатьСтроку();
Пока СтрокаТекста <> Неопределено Цикл
Если СокрЛП(СтрокаТекста) <> "<ChildObjects>" Тогда
	ЗаписьФайл.ЗаписатьСтроку(СтрокаТекста);
	Сообщить(СтрокаТекста);
Иначе
	СтрокаТекста = Чтение.ПрочитатьСтроку();
	Пока СтрокаТекста <> Неопределено Цикл
		Если СокрЛП(СтрокаТекста) = "</ChildObjects>" Тогда

			ЗаписьФайл.ЗаписатьСтроку("<ChildObjects>");
			Для каждого Переменная Из ТЗ Цикл
					ЗаписьФайл.ЗаписатьСтроку(Переменная.Тег);
			КонецЦикла;
			ЗаписьФайл.ЗаписатьСтроку("</ChildObjects>");

			Прервать;
		КонецЕсли;
	СтрокаТекста = Чтение.ПрочитатьСтроку();
	КонецЦикла;
КонецЕсли;
СтрокаТекста = Чтение.ПрочитатьСтроку();
КонецЦикла;
Чтение.Закрыть();
ЗаписьФайл.Закрыть();